<!DOCTYPE html>
<html>
  <head>
    <title>Запрос разрешения на местоположение</title>
    <script>
      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.clearWatch(watchID);
          navigator.geolocation.getCurrentPosition(showPosition);
        } else {
          alert("Ваш браузер не поддерживает геолокацию.");
        }
      }

      function showPosition(position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var accuracy = position.coords.accuracy;
        alert(
          "Широта: " +
            latitude +
            "\nДолгота: " +
            longitude +
            "\nТочность: " +
            accuracy +
            " м."
        );
      }

      window.onload = function () {
        navigator.permissions
          .revoke("geolocation")
          .then(function () {
            getLocation();
          })
          .catch(function () {
            alert("Не удалось отозвать разрешение на геолокацию.");
          });
      };
    </script>
  </head>
  <body>
    <h1>Запрос разрешения на местоположение</h1>
  </body>
</html>
